<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Cv2.RecoverPose Method (InputArray, InputArray, InputArray, InputArray, OutputArray, OutputArray, Double, InputOutputArray, OutputArray)</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="M:OpenCvSharp.Cv2.RecoverPose(OpenCvSharp.InputArray,OpenCvSharp.InputArray,OpenCvSharp.InputArray,OpenCvSharp.InputArray,OpenCvSharp.OutputArray,OpenCvSharp.OutputArray,System.Double,OpenCvSharp.InputOutputArray,OpenCvSharp.OutputArray)" /><meta name="Description" content="Recover relative camera rotation and translation from an estimated essential matrix and the corresponding points in two images, using cheirality check. Returns the number of inliers which pass the check." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="OpenCvSharp" /><meta name="file" content="aecea186-9eee-44f3-44fa-4af1efbaa8aa" /><meta name="guid" content="aecea186-9eee-44f3-44fa-4af1efbaa8aa" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">OpenCvSharp Documented Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/d69c29a1-7fb1-4f78-82e9-79be971c3d03.htm" title="OpenCvSharp Documented Class Library" tocid="roottoc">OpenCvSharp Documented Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/1bb515b3-6278-49e4-9a33-1054bd279323.htm" title="OpenCvSharp" tocid="1bb515b3-6278-49e4-9a33-1054bd279323">OpenCvSharp</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/990bb5d8-dead-cb94-4b7c-e92356b50b0c.htm" title="Cv2 Class" tocid="990bb5d8-dead-cb94-4b7c-e92356b50b0c">Cv2 Class</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/6121915d-1174-7345-bdca-789ee1373642.htm" title="Cv2 Methods" tocid="6121915d-1174-7345-bdca-789ee1373642">Cv2 Methods</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/10581f00-7a1a-057a-9747-20ffd60caa5e.htm" title="RecoverPose Method " tocid="10581f00-7a1a-057a-9747-20ffd60caa5e">RecoverPose Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/f353ff3e-47e4-6139-ee99-0ad3a26d0950.htm" title="RecoverPose Method (InputArray, InputArray, InputArray, InputArray, OutputArray, OutputArray, InputOutputArray)" tocid="f353ff3e-47e4-6139-ee99-0ad3a26d0950">RecoverPose Method (InputArray, InputArray, InputArray, InputArray, OutputArray, OutputArray, InputOutputArray)</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e0b3e7a8-8ae8-6467-9888-2b0cdffdfafa.htm" title="RecoverPose Method (InputArray, InputArray, InputArray, OutputArray, OutputArray, Double, Point2d, InputOutputArray)" tocid="e0b3e7a8-8ae8-6467-9888-2b0cdffdfafa">RecoverPose Method (InputArray, InputArray, InputArray, OutputArray, OutputArray, Double, Point2d, InputOutputArray)</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/aecea186-9eee-44f3-44fa-4af1efbaa8aa.htm" title="RecoverPose Method (InputArray, InputArray, InputArray, InputArray, OutputArray, OutputArray, Double, InputOutputArray, OutputArray)" tocid="aecea186-9eee-44f3-44fa-4af1efbaa8aa">RecoverPose Method (InputArray, InputArray, InputArray, InputArray, OutputArray, OutputArray, Double, InputOutputArray, OutputArray)</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>Cv2<span id="LST2D30DC77_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_0?cpp=::|nu=.");</script>RecoverPose Method (InputArray, InputArray, InputArray, InputArray, OutputArray, OutputArray, Double, InputOutputArray, OutputArray)</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Recover relative camera rotation and translation from an estimated essential matrix and the corresponding points in two images, using cheirality check.
            Returns the number of inliers which pass the check.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="1bb515b3-6278-49e4-9a33-1054bd279323.htm">OpenCvSharp</a><br />
    <strong>Assembly:</strong>
   OpenCvSharp (in OpenCvSharp.dll) Version: 1.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EDCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cs','1','4');return false;">C#</a></div><div id="ID0EDCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','vb','2','4');return false;">VB</a></div><div id="ID0EDCA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cpp','3','4');return false;">C++</a></div><div id="ID0EDCA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EDCA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EDCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">static</span> <span class="identifier">int</span> <span class="identifier">RecoverPose</span>(
	<span class="identifier">InputArray</span> <span class="parameter">E</span>,
	<span class="identifier">InputArray</span> <span class="parameter">points1</span>,
	<span class="identifier">InputArray</span> <span class="parameter">points2</span>,
	<span class="identifier">InputArray</span> <span class="parameter">cameraMatrix</span>,
	<span class="identifier">OutputArray</span> <span class="parameter">R</span>,
	<span class="identifier">OutputArray</span> <span class="parameter">t</span>,
	<span class="identifier">double</span> <span class="parameter">distanceTresh</span>,
	<span class="identifier">InputOutputArray</span> <span class="parameter">mask</span> = <span class="keyword">null</span>,
	<span class="identifier">OutputArray</span> <span class="parameter">triangulatedPoints</span> = <span class="keyword">null</span>
)</pre></div><div id="ID0EDCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Shared</span> <span class="keyword">Function</span> <span class="identifier">RecoverPose</span> ( 
	<span class="parameter">E</span> <span class="keyword">As</span> <span class="identifier">InputArray</span>,
	<span class="parameter">points1</span> <span class="keyword">As</span> <span class="identifier">InputArray</span>,
	<span class="parameter">points2</span> <span class="keyword">As</span> <span class="identifier">InputArray</span>,
	<span class="parameter">cameraMatrix</span> <span class="keyword">As</span> <span class="identifier">InputArray</span>,
	<span class="parameter">R</span> <span class="keyword">As</span> <span class="identifier">OutputArray</span>,
	<span class="parameter">t</span> <span class="keyword">As</span> <span class="identifier">OutputArray</span>,
	<span class="parameter">distanceTresh</span> <span class="keyword">As</span> <span class="identifier">Double</span>,
	Optional <span class="parameter">mask</span> <span class="keyword">As</span> <span class="identifier">InputOutputArray</span> = <span class="keyword">Nothing</span>,
	Optional <span class="parameter">triangulatedPoints</span> <span class="keyword">As</span> <span class="identifier">OutputArray</span> = <span class="keyword">Nothing</span>
) <span class="keyword">As</span> <span class="identifier">Integer</span></pre></div><div id="ID0EDCA_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span>:
<span class="keyword">static</span> <span class="identifier">int</span> <span class="identifier">RecoverPose</span>(
	<span class="identifier">InputArray</span>^ <span class="parameter">E</span>, 
	<span class="identifier">InputArray</span>^ <span class="parameter">points1</span>, 
	<span class="identifier">InputArray</span>^ <span class="parameter">points2</span>, 
	<span class="identifier">InputArray</span>^ <span class="parameter">cameraMatrix</span>, 
	<span class="identifier">OutputArray</span>^ <span class="parameter">R</span>, 
	<span class="identifier">OutputArray</span>^ <span class="parameter">t</span>, 
	<span class="identifier">double</span> <span class="parameter">distanceTresh</span>, 
	<span class="identifier">InputOutputArray</span>^ <span class="parameter">mask</span> = <span class="keyword">nullptr</span>, 
	<span class="identifier">OutputArray</span>^ <span class="parameter">triangulatedPoints</span> = <span class="keyword">nullptr</span>
)</pre></div><div id="ID0EDCA_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">static</span> <span class="keyword">member</span> <span class="identifier">RecoverPose</span> : 
        <span class="parameter">E</span> : <span class="identifier">InputArray</span> * 
        <span class="parameter">points1</span> : <span class="identifier">InputArray</span> * 
        <span class="parameter">points2</span> : <span class="identifier">InputArray</span> * 
        <span class="parameter">cameraMatrix</span> : <span class="identifier">InputArray</span> * 
        <span class="parameter">R</span> : <span class="identifier">OutputArray</span> * 
        <span class="parameter">t</span> : <span class="identifier">OutputArray</span> * 
        <span class="parameter">distanceTresh</span> : <span class="identifier">float</span> * 
        ?<span class="parameter">mask</span> : <span class="identifier">InputOutputArray</span> * 
        ?<span class="parameter">triangulatedPoints</span> : <span class="identifier">OutputArray</span> 
(* Defaults:
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">mask</span> = defaultArg <span class="identifier">mask</span> <span class="keyword">null</span>
        <span class="keyword">let </span><span class="identifier">_</span><span class="identifier">triangulatedPoints</span> = defaultArg <span class="identifier">triangulatedPoints</span> <span class="keyword">null</span>
*)
<span class="keyword">-&gt;</span> <span class="identifier">int</span> 
</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EDCA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">E</span></dt><dd>Type: <a href="c2813d63-89b3-a8ae-65cb-953e109cfa20.htm">OpenCvSharp<span id="LST2D30DC77_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>InputArray</a><br />The input essential matrix.</dd><dt><span class="parameter">points1</span></dt><dd>Type: <a href="c2813d63-89b3-a8ae-65cb-953e109cfa20.htm">OpenCvSharp<span id="LST2D30DC77_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>InputArray</a><br />Array of N 2D points from the first image. The point coordinates should be floating-point (single or double precision).</dd><dt><span class="parameter">points2</span></dt><dd>Type: <a href="c2813d63-89b3-a8ae-65cb-953e109cfa20.htm">OpenCvSharp<span id="LST2D30DC77_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>InputArray</a><br />Array of the second image points of the same size and format as points1.</dd><dt><span class="parameter">cameraMatrix</span></dt><dd>Type: <a href="c2813d63-89b3-a8ae-65cb-953e109cfa20.htm">OpenCvSharp<span id="LST2D30DC77_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>InputArray</a><br />Camera matrix K=⎡⎣⎢fx000fy0cxcy1⎤⎦⎥ . Note that this function assumes that points1 and points2 are feature points from cameras with the same camera matrix.</dd><dt><span class="parameter">R</span></dt><dd>Type: <a href="99bf1533-7e83-69d2-0c44-691f9635954d.htm">OpenCvSharp<span id="LST2D30DC77_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_5?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>OutputArray</a><br />Recovered relative rotation.</dd><dt><span class="parameter">t</span></dt><dd>Type: <a href="99bf1533-7e83-69d2-0c44-691f9635954d.htm">OpenCvSharp<span id="LST2D30DC77_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_6?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>OutputArray</a><br />Recovered relative translation.</dd><dt><span class="parameter">distanceTresh</span></dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.double" target="_blank">System<span id="LST2D30DC77_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_7?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Double</a><br />threshold distance which is used to filter out far away points (i.e. infinite points).</dd><dt><span class="parameter">mask</span> (Optional)</dt><dd>Type: <a href="e12350ac-ffbd-77a4-d78f-88cfcd07a418.htm">OpenCvSharp<span id="LST2D30DC77_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_8?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>InputOutputArray</a><br />Input/output mask for inliers in points1 and points2. :
            If it is not empty, then it marks inliers in points1 and points2 for then given essential matrix E.
            Only these inliers will be used to recover pose. In the output mask only inliers which pass the cheirality check.
            This function decomposes an essential matrix using decomposeEssentialMat and then verifies possible pose hypotheses by doing cheirality check.
            The cheirality check basically means that the triangulated 3D points should have positive depth.</dd><dt><span class="parameter">triangulatedPoints</span> (Optional)</dt><dd>Type: <a href="99bf1533-7e83-69d2-0c44-691f9635954d.htm">OpenCvSharp<span id="LST2D30DC77_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST2D30DC77_9?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>OutputArray</a><br />3d points which were reconstructed by triangulation.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="https://docs.microsoft.com/dotnet/api/system.int32" target="_blank">Int32</a><br /><p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[Missing &lt;returns&gt; documentation for "M:OpenCvSharp.Cv2.RecoverPose(OpenCvSharp.InputArray,OpenCvSharp.InputArray,OpenCvSharp.InputArray,OpenCvSharp.InputArray,OpenCvSharp.OutputArray,OpenCvSharp.OutputArray,System.Double,OpenCvSharp.InputOutputArray,OpenCvSharp.OutputArray)"]</p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID2RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="990bb5d8-dead-cb94-4b7c-e92356b50b0c.htm">Cv2 Class</a></div><div class="seeAlsoStyle"><a href="10581f00-7a1a-057a-9747-20ffd60caa5e.htm">RecoverPose Overload</a></div><div class="seeAlsoStyle"><a href="1bb515b3-6278-49e4-9a33-1054bd279323.htm">OpenCvSharp Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>